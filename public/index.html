<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body onload="clearInfo()">
    <header id="topHeader">
        <h1 style="text-align: center;">QR Code Generator</h1>
        <div class="row">
            <div class="col" style="text-align: center;">
                <label for="qr-text">Enter text:</label>
                <input type="text" id="qr-text">
                <button onclick="generateQRCode()">Generate QR Code</button>
            </div>
        </div>

        <div id="mainHeader">
            <div class="row" style="padding-top: 5px; text-align: center;">
                <div id="main" class="col d-flex flex-column align-items-center justify-content-center">
                    <div id="qrcodeMain"></div>
                    <label id="labelInfo"></label>
                </div>
                <div class="row" id="dividor" style="background-color:black; height:3px;"></div>
            </div>
    </header>

    </header>


    <div class="justify-content-center align-items-center" id="tableColMain">
        <div id="tableRow" class="row">


            <div class="col">
                <div id="dataHold" class="col-sm-1">
                    <input type="button" onclick="setQR('imgOne', 'oneInfo');" value="Set QR" />
                    <div class="coding one" id="qrcode">
                        <img src="" id="imgOne">
                    </div>
                    <label class="codeLbl" id="oneInfo"></label>
                </div>
            </div>

            <div class="col">
                <div id="dataHold" class="col-sm-1">
                    <input type="button" onclick="setQR('imgTwo', 'twoInfo');" value="Set QR" />
                    <div class="coding one" id="qrcode">
                        <img src="" id="imgTwo">
                    </div>
                    <label class="codeLbl" id="twoInfo"></label>
                </div>
            </div>
            <div class="col">
                <div id="dataHold" class="col-sm-1">
                    <input type="button" onclick="setQR('imgThree', 'threeInfo');" value="Set QR" />
                    <div class="coding one" id="qrcode">
                        <img src="" id="imgThree">
                    </div>
                    <label class="codeLbl" id="threeInfo"></label>
                </div>
            </div>

            <div id="tableRow" class="row">
                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>

                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>

                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>
                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>
            </div>
            <div id="tableRow" class="row">
                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>

                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>
                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>
                <div class="col">
                    <div id="dataHold" class="col-sm-1">
                        <input type="button" onclick="setQR('imgFour', 'fourInfo');" value="Set QR" />
                        <div class="coding one" id="qrcode">
                            <img src="" id="imgFour">
                        </div>
                        <label class="codeLbl" id="fourInfo"></label>
                    </div>
                </div>
            </div>
        </div>


        <script>

            function init() {
                // Clear forms here
                document.getElementById("qr-text").value = "";
            }
            window.onload = init;


            function setQR(setID, labelID) {
                //var id = setID.toString();
                var holdIMG = document.getElementById(setID);
                var mainInfo = document.getElementsByTagName("img")[0];
                var mainLbl = document.getElementById("labelInfo");
                var imgs = document.createElement("img");
                holdIMG.src = mainInfo.src;
                //     if(holdimg.hasChildNodes()) {
                //     imgs.setAttribute("class", "mainIMG");
                //     imgs.src = mainInfo.src;
                //     holdimg.removeChild()
                //    }
                //    else{
                //     imgs.src = mainInfo.src;
                //     holdimg.appendChild(imgs);
                //    }

                var labels = document.getElementById(labelID);
                labels.innerText = mainLbl.innerText;
                // Get the target div element

                //codes.innerHTML = "";
                //codes.value = mainInfo;
                // Generate QR code using qrcode.js library
                // var qrcode = new QRCode(codes, {
                //     text: mainInfo,
                //     width: 150,
                //     height: 150
                // });


            }
            //document.getElementById("genButton").addEventListener("click", generateQRCode);
            function generateQRCode() {
                // Get the text from the input field
                var text = document.getElementById("qr-text").value;
                var codes = document.getElementsByClassName("coding");
                var labels = document.getElementsByClassName("codeLbl");

                // Get the label 
                var lbl = document.getElementById("labelInfo");


                // Clear previous QR code if any
                var code = document.getElementById("qrcodeMain");
                code.innerHTML = "";

                // Generate QR code using qrcode.js library
                var qrcode = new QRCode(code, {
                    text: text,
                    width: 150,
                    height: 150
                });
                lbl.textContent = text;
                // for (var i = 0; i < codes.length; i++) {
                //     var coder = codes[i];
                //     var lblr = labels[i];
                //     coder.innerHTML = "";

                //     // Generate QR code using qrcode.js library
                //     var qrcode = new QRCode(coder, {
                //         text: text,
                //         width: 150,
                //         height: 150
                //     });
                //     lblr.textContent = text;
                // }
                text = "";
                // Set label content 


            }
        </script>
        <style>
            #tableColMain {
                margin: 0 auto;
                text-align: center;
            }

            #qrcode {
                width: 150px;
                height: 150px;
                /* Remove border */
                border: none;
                background-color: #fff;
                /* Set white background */
            }

            #main {
                background-color: aliceblue;
                width: 100px;
                height: 200px;
            }

            body {
                background-color: beige
            }

            #tableRow {
                margin-left: 20%;


            }

            .printCol {
                display: inline;
            }

            #dataHold {
                justify-content: center;
            }

            .coding {
                text-align: center;
                margin-left: 10px;
                margin-right: 10px;
                margin-top: 20px;

            }

            .codeLbl {
                margin-bottom: 20px;
                text-align: center;
                align-self: center;
            }


            @media print {
                #main {
                    visibility: hidden;
                }

                #qrcode {
                    visibility: visible;
                    top: 0;
                }

                input {
                    visibility: hidden;
                }

                header {
                    visibility: hidden;
                }

                #topHeader {
                    visibility: hidden;
                    display: none;
                }

                /* .div2 * { visibility: visible; } */
                /* .div2 { position: absolute; top: 40px; left: 30px; } */
                #tableRow {
                    /* Target the content you want to print */
                    display: inline-block;
                    /* Ensure visibility during printing */
                    margin: 1px;
                    padding: 1px;

                }


            }
        </style>
</body>

</html>